<!-- <ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-item lines="none">
      <ion-icon (click)="goBack()" class="back" name="arrow-back"></ion-icon>
      <ion-title>Add Exicutive</ion-title>
    </ion-item>
  </ion-toolbar>
</ion-header> -->

<ion-content [fullscreen]="true">
  <div class="Customer">
    <div class="container_div">
      <ion-card-content>
        <div class="dekstop-menu">
          <ion-card-header>
            <ion-row lines="none">
              <ion-icon (click)="goBack()" class="back" name="arrow-back"></ion-icon>
              <ion-title style="text-align: center;">Add Executive</ion-title>
              <div class="custom-primary">
                <ion-button size="small" [routerLink]="['/viewexicutive']" id="open-loading5">View
                  Executive</ion-button>
                <ion-loading class="custom-loading" trigger="open-loading5" message="Executive Showing ..."
                  [duration]="1000"></ion-loading>
              </div>
            </ion-row>
          </ion-card-header>
        </div>
        <ion-grid>
          <form [formGroup]="form" (ngSubmit)="onSubmit()">
            <ion-row>
              <ion-col size="6" size-lg="6" size-md="6" size-sm="6">
                <ion-select class="always-flip" toggleIcon="caret-down-sharp" color="dark" interface="popover"
                  label="--- Role---" label-placement="floating" fill="outline" [ngModel]="roleid" name="roleid"
                  formControlName="roleid">
                  <!-- <ion-select-option value="0"><ion-button>add</ion-button></ion-select-option>  -->
                  <ion-select-option *ngFor="let roletypes of roletypes$ | async" [value]="roletypes.roletypeid">
                    {{ roletypes.roletypename }}
                  </ion-select-option>
                </ion-select>
              </ion-col>

              <ion-col size="6" size-lg="6" size-md="6" size-sm="6">
                <ion-row>
                  <ion-input [ngModel]="excode" formControlName="excode" name="excode" type="text"
                    label=" Executive Code :" label-placement="floating" fill="outline"></ion-input>

                </ion-row>
              </ion-col>

              <ion-col size="6" size-lg="6" size-md="6" size-sm="6">
                <ion-row>
                  <ion-input [ngModel]="executivename" formControlName="executivename" name="executivename" type="text"
                    label=" Name :" label-placement="floating" fill="outline"></ion-input>
                </ion-row>
              </ion-col>

              <ion-col size="6" size-lg="5.3" size-md="6" size-sm="6">
                <ion-select class="always-flip" toggleIcon="caret-down-sharp" color="dark" interface="popover"
                  label="---Select Ledger ---" label-placement="floating" fill="outline" [ngModel]="ledger"
                  formControlName="ledger" name="ledger">
                  <!-- <ion-select-option value="" disabled selected> --- ledger --- </ion-select-option> Default option -->
                  <ion-select-option *ngFor="let ledger of ledgers$ | async; let i = index">{{ledger.lname}}
                  </ion-select-option>
                </ion-select>

              </ion-col>

              <ion-col class="custom-primary" size-lg="0.7" size-md="2" size-sm="2" size="2">
                <ion-button id="ledger"><ion-icon name="person-add-outline"></ion-icon></ion-button>
              </ion-col>

              <ion-col size="6" size-lg="6" size-md="6" size-sm="6">
                <ion-select class="always-flip" toggleIcon="caret-down-sharp" color="dark" interface="popover"
                  label="--- Manager ---" label-placement="floating" fill="outline" [ngModel]="emanager"
                  formControlName="emanager" name="emanager">
                  <!-- <ion-select-option value="" disabled selected> --- Manager --- </option> Default option -->
                  <ion-select-option value="1">Deepak</ion-select-option>
                  <ion-select-option value="1">Yogesh</ion-select-option>
                  <ion-select-option value="1">Abhishek</ion-select-option>
                  <ion-select-option value="1">Nirbhay</ion-select-option>
                  <ion-select-option value="1">Ravi</ion-select-option>
                </ion-select>
              </ion-col>

              <ion-col size="6" size-lg="6" size-md="6" size-sm="6">
                <ion-row>
                  <ion-input [ngModel]="emobile" maxlength="10" formControlName="emobile" name="emobile" type="tel"
                    label="Mobile No. :" label-placement="floating" fill="outline"></ion-input>

                </ion-row>
              </ion-col>

              <ion-col size="6" size-lg="6" size-md="6" size-sm="6">
                <ion-row>
                  <ion-input [ngModel]="ewhatsapp" formControlName="ewhatsapp" name="ewhatsapp" type="tel"
                    maxlength="10" label="WhatsApp No. :" label-placement="floating" fill="outline"></ion-input>
                </ion-row>
              </ion-col>


              <ion-col size="6" size-lg="6" size-md="6" size-sm="6">
                <ion-row>
                  <ion-input [ngModel]="eemail" formControlName="eemail" name="eemail" type="email" label="Email :"
                    label-placement="floating" fill="outline"></ion-input>
                </ion-row>
              </ion-col>

              <ion-col size="6" size-lg="6" size-md="6" size-sm="6">
                <ion-row>
                  <ion-input [ngModel]="epan" formControlName="epan" name="epan" type="text" label="PAN No. :"
                    label-placement="floating" fill="outline"></ion-input>
                </ion-row>
              </ion-col>
              <ion-col size="6" size-lg="6" size-md="6" size-sm="6">
                <ion-row>
                  <ion-input [ngModel]="ecommision" formControlName="ecommision" name="ecommision" type="number"
                    label="Commission :" label-placement="floating" fill="outline"></ion-input>
                </ion-row>
              </ion-col>

            </ion-row>

            <ion-row class="custom-primary" style="justify-content: right;margin-top: 10px;">
              <ion-button (click)="onNew()" id="open-loading">New</ion-button>
              <ion-loading class="custom-loading" trigger="open-loading" message="Cleaning..."
                [duration]="1000"></ion-loading>
              <ion-button type="submit" id="open-loading1">Save Executive</ion-button>
              <ion-loading class="custom-loading" trigger="open-loading1" message="Executive Save Successfully..."
                [duration]="1000"></ion-loading>
              <ion-button id="open-loading4" (click)="onButtonClick()">Close</ion-button>
              <ion-loading class="custom-loading" trigger="open-loading4" message="Executive Closing..."
                [duration]="1000"></ion-loading>
            </ion-row>
          </form>
        </ion-grid>
      </ion-card-content>
    </div>
  </div>
</ion-content>


<ion-popover  trigger="ledger" side="bottom" alignment="end">
  <ng-template style="margin-right: 200px;">
    <div style="margin: 10px;">
      <ion-content class="ion-padding Customer ">
        <ion-row style="justify-content: center;margin-bottom: 10px;">
          <ion-label class="executive">Add Ledger</ion-label>
        </ion-row>
        <form [formGroup]="ledgerpop" (ngSubmit)="OnLedgerSubmit()">
          <ion-row>

            <ion-col size="6" size-lg="3" size-md="6" size-sm="6">
              <ion-row>
                <ion-input [(ngModel)]="ledger_code" formControlName="ledger_code" name="ledger_code" type="text"
                  label=" Ledger Code :" label-placement="floating" fill="outline" maxlength="5"></ion-input>
              </ion-row>
            </ion-col>

            <ion-col size="6" size-lg="5" size-md="6" size-sm="6">
              <ion-row>
                <ion-input [(ngModel)]="lname" formControlName="lname" name="lnames" type="text" label="Ledger Name :"
                  label-placement="floating" fill="outline"></ion-input>
              </ion-row>
            </ion-col>

            <ion-col size="6" size-lg="4" size-md="6" size-sm="6">
              <ion-row>
                <ion-input [(ngModel)]="gstin" formControlName="gstin" formControlName="gstin" name="gstincode"
                  type="text" label=" GSTIN :" label-placement="floating" fill="outline"></ion-input>
              </ion-row>
            </ion-col>

            <ion-col size="6" size-lg="2.9" size-md="6" size-sm="6">
              <ion-row>
                <ion-input [(ngModel)]="mobile" name="mobile" formControlName="mobile" type="tel"
                  label=" Mobile Number :" label-placement="floating" fill="outline" maxlength="10"></ion-input>
              </ion-row>
            </ion-col>

            <ion-col size="6" size-lg="3" size-md="6" size-sm="6">
              <select class="select" [(ngModel)]="country" formControlName="country" name="selectedCountry"
                label-placement="floating" fill="outline" (change)="onCountryChange()">
                <option value="0"> --- Country --- </option>
                <option *ngFor="let country of (countries$ | async)" [value]="country.countryid">
                  {{ country.countryname }}
                </option>
              </select>
            </ion-col>

            <ion-col size="6" size-lg="3" size-md="6" size-sm="6">
              <select class="select" [(ngModel)]="state" formControlName="state" name="state"
                label-placement="floating" (change)="onStateChange()">
                <option value="0"> --- State --- </option>
                <option *ngFor="let state of (states$ | async)" [value]="state.stateid">
                  {{ state.statename }}
                </option>
              </select>

            </ion-col>
            <ion-col size="6" size-lg="3" size-md="6" size-sm="6">

              <select class="select" [(ngModel)]="district" formControlName="district" name="district"
                label-placement="floating" fill="outline" (change)="onDistrictChange()">
                <option value="0"> --- District --- </option>
                <option *ngFor="let district of (districts$ | async)" [value]="district.districtid">
                  {{ district.districtname }}
                </option>
              </select>
            </ion-col>

          </ion-row>

          <ion-row>

            <ion-col size="6" size-lg="3" size-md="6" size-sm="6">
              <ion-row>
                <ion-input [(ngModel)]="pincode" formControlName="pincode" type="tel" name="pincode"
                  label=" PinCode  :" label-placement="floating" fill="outline" inputmode="numeric"
                  maxlength="6"></ion-input>
              </ion-row>
            </ion-col>

            <ion-col size="12" size-lg="9" size-md="6" size-sm="6">
              <ion-row>
                <ion-input [(ngModel)]="address" formControlName="address" name="address" type="text"
                  label="Full Address :" label-placement="floating" fill="outline"></ion-input>
              </ion-row>
            </ion-col>
          </ion-row>

          <ion-row style="float: right;margin-top: 10px;">
            <ion-button type="submit">Save</ion-button>
            <ion-button (click)="closePopover()">Close</ion-button>
          </ion-row>
        </form>
      </ion-content>
    </div>
  </ng-template>

</ion-popover>

